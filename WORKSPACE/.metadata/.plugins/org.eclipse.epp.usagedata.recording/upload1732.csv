what,kind,bundleId,bundleVersion,description,time
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793452510
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793455008
error,log,,,"Problems occurred when invoking code from plug-in: ""org.eclipse.jdt.ui"".",1424793456232
error,log,,,"Error in JDT Core during AST creation",1424793456232
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793467736
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793469746
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793487798
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793488068
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793491145
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793511112
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424793514207
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424793519968
opened,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424793520355
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424793520380
executed,command,org.eclipse.ui.ide,3.6.2.M20101201-0800,"org.eclipse.ui.navigate.openResource",1424793520380
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424793522554
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.findReplace",1424793522568
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793523731
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424793529344
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793548304
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424793550246
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424793557342
opened,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424793557526
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424793557545
executed,command,org.eclipse.ui.ide,3.6.2.M20101201-0800,"org.eclipse.ui.navigate.openResource",1424793557545
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424793559779
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.findReplace",1424793559796
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793561524
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424793568253
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424793570516
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793582356
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793582576
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793584465
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793592887
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793595066
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793611657
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793611905
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424793616512
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793685480
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793696249
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793696497
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793713498
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793723424
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793723656
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793808776
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793809111
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793817959
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793821385
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424793832470
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793847586
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793847866
activated,editor,org.eclipse.jst.jsp.ui,1.1.503.v201101262228,"org.eclipse.jst.jsp.core.jspsource.source",1424793851271
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424793854376
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793872217
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793872423
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793877071
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793880383
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793880662
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793880846
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793881030
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793881214
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793881390
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793881591
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793881766
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793881945
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793882124
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793882333
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793882582
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424793883062
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793917722
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424793921120
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793965880
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793966128
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793971920
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424793972159
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794006935
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794019085
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794056432
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794074302
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794074503
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794077934
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794081315
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794096380
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794103886
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794126360
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794135630
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794172354
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794172374
executed,command,org.eclipse.ui.ide,3.6.2.M20101201-0800,"org.eclipse.ui.navigate.openResource",1424794172374
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794186305
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794187114
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794193445
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794193735
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794199191
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.cut",1424794236519
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794239689
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794246873
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794247100
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794247265
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794277888
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794286186
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794286416
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794294844
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794298571
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794299339
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794301606
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794301829
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794302014
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794302454
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794302694
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794303134
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794303557
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794316649
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794318836
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794328586
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794328850
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794329058
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794332333
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794352515
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794357274
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794357458
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794362698
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794362890
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794366694
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794372752
opened,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794372822
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794372841
executed,command,org.eclipse.ui.ide,3.6.2.M20101201-0800,"org.eclipse.ui.navigate.openResource",1424794372841
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794388618
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794395793
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794397542
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794400299
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794401057
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794402646
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794402987
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.file.save",1424794414434
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794417034
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794420861
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794422692
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794432449
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794432697
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794434577
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794443152
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794443173
executed,command,org.eclipse.ui.ide,3.6.2.M20101201-0800,"org.eclipse.ui.navigate.openResource",1424794443173
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794454075
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794459104
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794462212
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.cut",1424794466929
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794472806
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794492242
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794494065
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794506175
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794506415
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794509052
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794567368
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794571343
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794577040
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794588905
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794594697
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.text.contentAssist.proposals",1424794610359
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794612448
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794612658
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794613732
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794614164
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794615040
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794625104
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794627380
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794637391
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794637671
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794644167
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794644940
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.file.saveAll",1424794645182
error,log,,,"Problems occurred when invoking code from plug-in: ""org.eclipse.core.resources"".",1424794646124
error,log,,,"Errors occurred during the build.",1424794646251
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794646304
error,log,,,"Exception occurred during problem detection:\n----------------------------------- SOURCE BEGIN -------------------------------------\npackage com.loyauty.web.struts.action.product;\n\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.Locale;\nimport java.util.List;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport com.loyauty.enums.GroupCategoryEnum;\nimport com.loyauty.enums.ProductStatus;\nimport com.loyauty.enums.UserType;\nimport com.loyauty.exception.ServiceException;\nimport com.loyauty.exception.ServiceLocatorException;\nimport com.loyauty.model.UserProductPrice;\nimport com.loyauty.service.core.dto.ImageDTO;\nimport com.loyauty.service.core.dto.BrandDTO;\nimport com.loyauty.service.core.dto.ProductDTO;\nimport com.loyauty.service.core.dto.ProvinceDTO;\nimport com.loyauty.service.core.dto.ShippingTotalDTO;\nimport com.loyauty.service.core.dto.ProductModelDTO;\nimport com.loyauty.service.core.dto.SpecificationDTO;\nimport com.loyauty.service.core.dto.UserDTO;\nimport com.loyauty.service.core.dto.UserProductPriceDTO;\nimport com.loyauty.service.core.dto.UserSessionDTO;\nimport com.loyauty.service.product.ProductService;\nimport com.loyauty.service.specification.SpecificationService;\nimport com.loyauty.service.user.UserService;\nimport com.loyauty.web.RequestAtributeConstants;\nimport com.loyauty.web.WebConstants;\nimport com.loyauty.web.struts.action.LoyautyAction;\nimport com.loyauty.web.util.SeoUrlsMaker;\n\npublic class Product extends LoyautyAction {\n\t\n\tprivate static final long serialVersionUID = 1L;\n\t\n\tprivate static final String UNION = ""_"";\n\tprivate static final char CHAR_PATTERN_THAT_REPEATS = '_';\n\t\n\tprivate ProductService productService;\n\tprivate SpecificationService specificationService;\n\tprivate UserService userService;\n\t\n\t@Getter @Setter\n\tprivate ProductDTO productDTO;\n\t@Getter @Setter\n\tprivate ProductDTO saleProductDTO;\n\t@Getter @Setter\n\tprivate BrandDTO brandDTO;\n\t@Getter @Setter\n\tprivate ImageDTO productImageDTO;\n\t@Getter @Setter\n\tprivate ImageDTO brandImageDTO;\n\t@Getter @Setter\n\tprivate String productImageName;\n\t@Getter @Setter\n\tprivate String brandImageName;\n\t@Getter @Setter\n\tprivate long productId;\n\t@Getter @Setter\n\tprivate String productName;\n\t@Getter @Setter\n\tprivate String desc;\t\n\t@Getter @Setter\n\tprivate String spec;\n\t@Getter @Setter\n\tprivate String other;\n\t@Getter @Setter\n\tprivate String loyaltyProductId;\n\t@Getter @Setter\n\tprivate String loyaltyProductIdWithountPrefix;\n\t@Getter @Setter\n\tprivate String weight;\n\t@Getter @Setter\n\tprivate String w;\n\t@Getter @Setter\n\tprivate String l;\n\t@Getter @Setter\n\tprivate String h;\t\n\t@Getter @Setter\n\tprivate String modelNumber;\n\t@Getter @Setter\n\tprivate String price;\t\n\t@Getter @Setter\n\tprivate String msrp;\n\t@Getter @Setter\n\tprivate String discount;\n\t@Getter @Setter\n\tprivate String percentage;\t\n\t@Getter @Setter\n\tprivate String productBreadcrumb;\n\t@Getter @Setter\n\tprivate String groupName;\n\t@Getter @Setter\n\tprivate String groupHL;\n\t@Getter @Setter\n\tprivate String categoryName;\n\t@Getter @Setter\n\tprivate String categoryHL;\n\t@Getter @Setter\n\tprivate String specName;\n\t@Getter @Setter\n\tprivate String specHL;\t\n\t@Getter @Setter\n\tprivate String warranty;\t\n\t@Getter @Setter\n\tprivate String hrefName;\n\t@Getter @Setter\n\tprivate String link;\n\t@Getter @Setter\n\tprivate String warning;\n\t@Getter @Setter\n\tprivate String warning2;\t\n\t@Getter @Setter\n\tprivate String writeWarning;\n\t@Getter @Setter\n\tprivate String loyaltyProductIdSub;\n\t@Getter @Setter\n\tprivate String newLSProductIdSubHRef;\n\t\n\t@Getter @Setter\n\tprivate String sendRestricted;\n\t\n\t@Getter @Setter\n\tprivate Long numberOfProductModelElements;\n\t//private int numberOfProductModelElements;\n\t@Getter @Setter\n\tprivate List<ShippingTotalDTO> provinceNameList;\n\t@Getter @Setter\n\tprivate String[] provinceName;\t\n\t@Getter @Setter\n\tString[] shippingCost;\n\t@Getter @Setter\n\tprivate String shippingTotalCanada;\n\t\n\t@Getter @Setter\n\tprivate String shippingCostTdName;\t//Line Shipping Cost  in Shipping Rates Tab\n\n\tpublic Product() throws ServiceLocatorException {\n\t\tsuper();\n\t\tproductService = getServiceLocator().getProductService();\n\t\tspecificationService = getServiceLocator().getSpecificationService();\n\t\tuserService = getServiceLocator().getUserService();\n\t}\t\n\t\n\t@Override  \n\tpublic String execute() throws Exception {\n\t\ttry {\n\t\t\tUserSessionDTO userSessionDTO = (UserSessionDTO)request.getSession().getAttribute(WebConstants.USER);\n\t\t\t\n\t\t\tif (userSessionDTO != null) {\n\t\t\t\tproductDTO = productService.getProductInformation(productId, userSessionDTO.getId());\n\t\t\t\tsaleProductDTO\n\t\t\t\tproductBreadcrumb = ""Our Products"";\t\t\t\t\n\t\t\t} else {\n\t\t\t\tproductDTO = productService.getProductInformation(productId, null);\n\t\t\t\tproductBreadcrumb = ""Products"";\n\t\t\t}\n\t\t\t\n\t\t\t//check if is there's products sale\n\n\t\t\t\n\t\t\tproductImageDTO = productDTO.getImage();\n\t\t\tproductImageName = productImageDTO != null ? productImageDTO.getName() : """";\n\t\t\t\n\t\t\tif (productDTO.getBrand() != null) {\n\t\t\t\tbrandDTO = productDTO.getBrand();\n\t\t\t\t\n\t\t\t\tproductDTO.getBrand().setHrefName(SeoUrlsMaker.getBrandUrl(brandDTO.getName(), brandDTO.getId()));\n\t\t\t\t\n\t\t\t\tif (brandDTO.getImage() != null) {\n\t\t\t\t\tbrandImageDTO = brandDTO.getImage();\n\t\t\t\t\tif (brandImageDTO != null) {\n\t\t\t\t\t\tbrandImageName = brandImageDTO.getName();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbrandImageName = """";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbrandImageName = """";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbrandImageName = """";\n\t\t\t}\n\t\t\t\n\t\t\tif (getCurrentLanguage().equals(WebConstants.ENGLISH_LANGUAGE)) {\n\t\t\t\tproductName = productDTO.getNameEng().getName();\n\t\t\t\tdesc = productDTO.getDescriptionEng().getName();\n\t\t\t\tspec = productDTO.getSpecificationEng().getName();\n\t\t\t\tother = productDTO.getOtherEng().getName();\n\t\t\t\twarranty = (productDTO.getWarrantyEng() != null) ? productDTO.getWarrantyEng().getName() : """";\n\t\t\t} else if (getCurrentLanguage().equals(WebConstants.FRENCH_LANGUAGE)) { \n\t\t\t\tproductName = productDTO.getNameFr().getName();\n\t\t\t\tdesc = productDTO.getDescriptionFr().getName();\n\t\t\t\tspec = productDTO.getSpecificationFr().getName();\n\t\t\t\tother = productDTO.getSpecificationFr().getName();\n\t\t\t\twarranty = (productDTO.getWarrantyFr() != null) ? productDTO.getWarrantyFr().getName() : """";\n\t\t\t}\n\t\t\t\n\t\t\t//Link url \n\t\t\tif(productDTO.getLinkList().size() > 0)\n\t\t\t\tlink = productDTO.getLinkList().get(0).getLink();\n\n\t\t\tif (desc.indexOf(""<p></p>"") != -1 && desc.length() == 7) desc = desc.replaceAll(""<p></p>"", """");\n\t\t\tif (spec.indexOf(""<p></p>"") != -1 && spec.length() == 7) spec = spec.replaceAll(""<p></p>"", """");\n\t\t\t\n\t\t\tInteger status = productDTO.getStatus().getValue();\n\t\t\tif (status == ProductStatus.UNAVAILABLE.getValue()) {\n\t\t\t\twriteWarning = ""y2"";\n\t\t\t\twarning = ""PRODUCT TEMPORARILY UNAVAILABLE"";\n\t\t\t} else if (status == ProductStatus.DISCONTINUED.getValue()) {\n\t\t\t\twriteWarning = ""y3"";\n\t\t\t\tloyaltyProductIdSub = productDTO.getLoyaltyProductIdSub();\n\t\t\t\twarning = ""THIS PRODUCT IS DISCONTINUED"";\n\t\t\t\t\n\t\t\t\tif (!loyaltyProductIdSub.matches(""^\\\\s*$"")) {\n\t\t\t\t\twarning2 = ""Please view our suggested replacement: "";\n\t\t\t\t\tProductDTO newProductDTO = productService.getProductIdFromLSProductId(loyaltyProductIdSub);\n\t\t\t\t\tif (newProductDTO != null) {\n\t\t\t\t\t\tlong newProductId = newProductDTO.getId();\n\t\t\t\t\t\tString newBrandName = newProductDTO.getBrand().getName();\n\t\t\t\t\t\tString newProductName = """";\n\t\t\t\t\t\tif(getCurrentLanguage().equals(WebConstants.ENGLISH_LANGUAGE)) {\t\t\t\t\t\n\t\t\t\t\t\t\tnewProductName = newProductDTO.getNameEng().getName();\t\t\t\t\t\n\t\t\t\t\t\t} else if(getCurrentLanguage().equals(WebConstants.FRENCH_LANGUAGE)) {\n\t\t\t\t\t\t\tnewProductName = newProductDTO.getNameFr().getName();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewLSProductIdSubHRef = SeoUrlsMaker.getProductUrl(newBrandName, newProductName, newProductId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//weight = productDTO.getWeight();\t\t\n\t\t\tweight = productDTO.getBoxTotalWeight()+"""";\t\n\t\t\tif (weight != null && !weight.equals(""null"")) {\n\t\t\t\tweight = (!weight.matches(""^\\\\s*$"")) ? String.valueOf(weight) : """";\t\n\t\t\t} else {\n\t\t\t\tweight = """";\n\t\t\t}\n\t\t\t\n\t\t\t/*String width = productDTO.getWidth();\tw = (!width.equalsIgnoreCase(""0"")) ? String.valueOf(width) : """";\n\t\t\tString large = productDTO.getLarge();\tl = (!large.equalsIgnoreCase(""0"")) ? String.valueOf(large) : """";\t\n\t\t\tString high = productDTO.getHigh();\t\th = (!high.equalsIgnoreCase(""0""))  ? String.valueOf(high)  : """";*/\n\t\t\t\n\t\t\tString width = productDTO.getBoxWidth()+"""";\tw = (!width.equalsIgnoreCase(""0"") && !width.equalsIgnoreCase(""null"")) ? String.valueOf(width) : """";\n\t\t\tString large = productDTO.getBoxLength()+"""";l = (!large.equalsIgnoreCase(""0"") && !large.equalsIgnoreCase(""null"")) ? String.valueOf(large) : """";\t\n\t\t\tString high = productDTO.getBoxHeight()+"""";h = (!high.equalsIgnoreCase(""0"")&& !high.equalsIgnoreCase(""null""))  ? String.valueOf(high)  : """";\n\t\t\t\n\t\t\tif(productDTO.getManufactureProductList().size() >= 1) {\n\t\t\t\tmodelNumber= ((ProductModelDTO)productDTO.getManufactureProductList().get(0)).getName();\n\t\t\t} else {\n\t\t\t\tmodelNumber = """";\n\t\t\t}\n\t\t\tmodelNumber = ((ProductModelDTO)productDTO.getManufactureProductList().get(0)).getName();\t\t\t\n\t\t\t\n\t\t\tif (userSessionDTO != null) {\n\t\t\t\tList<UserProductPriceDTO> userProductPriceDTOList = productService.getUserProductPriceList(productId);\n\t\t\t\tfor (UserProductPriceDTO userProductPriceDTO : userProductPriceDTOList) {\n\t\t\t\t\tif (userSessionDTO.getId() == userProductPriceDTO.getUserId() && userProductPriceDTO.getExcluded()) {\n\t\t\t\t\t\tsendRestricted = ""restricted"";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/*numberOfProductModelElements = (productDTO.getManufactureProductList() != null) \n\t\t\t\t\t\t\t\t\t\t\t? productDTO.getManufactureProductList().size()\n\t\t\t\t\t\t\t\t\t\t\t: 0;*/\n\t\t\tnumberOfProductModelElements=productService.isGroupProductID(productId);\n\t\t\tprice = productDTO.getPriceProduct();\n\t\t\tmsrp = productDTO.getMsrp();\n\t\t\tpercentage = """";\n\t\t\tdiscount = """";\n\t\t\t\n\t\t\tdouble priceVal = 0d;\n\t\t\tdouble msrpVal = 0d;\n\t\t\tdouble discountVal = 0d;\n\t\t\tdouble percentageVal = 0d;\n\t\t\t\n\t\t\tUserDTO userDTO = null;\n\t\t\tif (userSessionDTO != null) {\t// User logged in!!!\n\t\t\t\t//Currency Rate and Symbol\n\t\t\t\tuserDTO = userService.getUserInformation(userSessionDTO.getId());\n\t\t\t\tif (price != null) {\n\t\t\t\t\tif (!price.matches(""^\\\\s*$"") && !price.equalsIgnoreCase("""")) {\t\t\t\t\t\n\t\t\t\t\t\tpriceVal = Double.parseDouble(price);\n\t\t\t\t\t\tprice = ""$"" + format(priceVal, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1) {\n\t\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\t\tprice = ""USD $"" + format(priceVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tprice = userDTO.getCurrencySymbol().toUpperCase() + format(priceVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpriceVal = 0d;\n\t\t\t\t\t\tprice = """";\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\t\n\t\t\t\tif (msrp != null) {\t\t\t\t\t\n\t\t\t\t\tif (!msrp.matches(""^\\\\s*$"") && !msrp.equalsIgnoreCase("""")) {\t\n\t\t\t\t\t\tmsrpVal = Double.parseDouble(msrp);\n\t\t\t\t\t\tmsrp = ""$"" + format(msrpVal, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1) {\n\t\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\t\tmsrp = ""USD $"" + format(msrpVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmsrp = userDTO.getCurrencySymbol() + format(msrpVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdiscountVal = msrpVal - priceVal;\n\t\t\t\t\t\tif(discountVal == 0d) {\n\t\t\t\t\t\t\tdiscount = """";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdiscount = ""$"" + format(discountVal, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1) {\n\t\t\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\t\t\tdiscount = ""USD $"" + format(discountVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdiscount = userDTO.getCurrencySymbol() + format(discountVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpercentageVal = (msrpVal != 0d) ? (100d * discountVal / msrpVal) : 0d;\n\t\t\t\t\t\tpercentage = (percentageVal != 0d) \n\t\t\t\t\t\t\t\t\t\t? ""("" + format(percentageVal, ""0.00"", ""en"", ""CA"") + ""%)"" \n\t\t\t\t\t\t\t\t\t\t: """" ;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiscount = """";\n\t\t\t\t\t\tpercentage = """";\n\t\t\t\t\t\tmsrp = """";\n\t\t\t\t\t}\t\t\t\n\t\t\t\t}\t\t\t\n\t\t\t\tloyaltyProductId = concatenate(userSessionDTO.getCode(), productDTO.getLoyaltyProductId());\n\t\t\t} else {\t// User Not Logged-in!!!!\n\t\t\t\tif (msrp != null || !msrp.matches(""^\\\\s*$"")) {\n\t\t\t\t\tmsrpVal = Double.parseDouble(msrp);\n\t\t\t\t\tmsrp = ""$"" + format(msrpVal, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t} else {\n\t\t\t\t\tmsrp = """";\t\t\n\t\t\t\t}\n\t\t\t\tloyaltyProductId = productDTO.getLoyaltyProductId();\n\t\t\t}\n\t\t\tloyaltyProductIdWithountPrefix=productDTO.getLoyaltyProductId();\n\t\t\tlong groupId = productDTO.getCategory().getCategoryGoupeId();\n\t\t\tgroupName = groupId >= 1L \n\t\t\t\t\t\t? GroupCategoryEnum.values()[((int) groupId) - 1].getCode() \n\t\t\t\t\t\t: """";\n\t\t\tgroupHL = SeoUrlsMaker.getCategoryGroupUrl(groupName);\n\t\t\tlong categoryID = productDTO.getCategory().getId();\n\t\t\tcategoryName = productDTO.getCategory().getName();\n\t\t\tcategoryHL = SeoUrlsMaker.getCategoryUrl(groupName, categoryName, categoryID);\n\t\t\tlong specId = productDTO.getMainFilterTypeId();\n\t\t\tSpecificationDTO specDTO = specificationService.getSpecification(specId);\t\t\t\n\t\t\t\n\t\t\tspecName = specDTO.getName();\n\t\t\tspecHL = SeoUrlsMaker.getSpecificationUrl(groupName, categoryName, specName, specId);\n\t\t\t\n\t\t\trequest.getSession(true).setAttribute(""queryID"", groupId);\t\t\t\n\t\t\trequest.getSession(true).setAttribute(""productBreadcrumb"", productBreadcrumb);\n\t\t\trequest.getSession(true).setAttribute(""groupName"", groupName);\n\t\t\trequest.getSession(true).setAttribute(""groupHL"", groupHL);\n\t\t\trequest.getSession(true).setAttribute(""categoryName"", categoryName);\n\t\t\trequest.getSession(true).setAttribute(""categoryHL"", categoryHL);\n\t\t\trequest.getSession(true).setAttribute(""specName"", specName);\n\t\t\trequest.getSession(true).setAttribute(""specHL"", specHL);\n\t\t\t\n\t\t\t//Set information title\n\t\t\trequest.setAttribute(RequestAtributeConstants.PAGE_TITLE_PARAM_1, productName);\n\t\t\trequest.setAttribute(RequestAtributeConstants.PAGE_TITLE_PARAM_2, brandDTO.getName());\n\t\t\t\n\t\t\t\n\t\t\tif (userSessionDTO != null) {\n\t\t\t\tlong userId = userSessionDTO.getId();\n\t\t\t\tprovinceNameList = productService.getShippingTotalList(productId, userId);\n\t\t\t\tfinal int SIZE = provinceNameList.size();\n\t\t\t\tprovinceName = new String[SIZE];\n\t\t\t\tshippingCost = new String[SIZE];\t\n\t\t\t\t\n\t\t\t\tProvinceDTO provinceDTO = new ProvinceDTO();\n\t\t\t\tlong provinceId = 0L;\n\t\t\t\tint count = 0;\n\t\t\t\tString $ = ""$"";\n\t\t\t\tshippingCostTdName = ""Shipping Cost"";\n\t\t\t\tfor (ShippingTotalDTO shippingTotalDTO : provinceNameList) {\n\t\t\t\t\tprovinceId = shippingTotalDTO.getProvinceId();\n\t\t\t\t\tprovinceDTO = productService.getProvince(provinceId);\n\t\t\t\t\tprovinceName[count] = provinceDTO.getCode();\n\t\t\t\t\tif (!shippingTotalDTO.getAverageShippingTotal().trim()\n\t\t\t\t\t\t\t.equalsIgnoreCase(""NOT AVAILABLE"")) {\n\t\t\t\t\t\tshippingCost[count] = $ + shippingTotalDTO.getAverageShippingTotal();\n\t\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1\n\t\t\t\t\t\t\t\t&& !shippingTotalDTO.getAverageShippingTotal().trim().matches(""^\\\\s*$"")) {\n\t\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\t\tshippingCostTdName = ""Shipping Cost (USD $)"";\n\t\t\t\t\t\t\t\tshippingCost[count] = shippingTotalDTO.getAverageShippingTotal();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tshippingCostTdName = ""Shipping Cost (""+userDTO.getCurrencySymbol().toUpperCase()+"")"";\n\t\t\t\t\t\t\t\tshippingCost[count] = shippingTotalDTO.getAverageShippingTotal();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshippingCost[count] = ""N/A"";\n\t\t\t\t\t}\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tUserProductPriceDTO userProductPriceDTO = productService.getUserProductPriceInformation(productId, userId);\n\t\t\t\t\n\t\t\t\tshippingTotalCanada = userProductPriceDTO.getShippingTotalCanada();\n\t\t\t\tdouble shippingCanada = 0d;\n\t\t\t\tif (shippingTotalCanada != null || !shippingTotalCanada.matches(""^\\\\s*$"")) {\n\t\t\t\t\tshippingCanada = Double.parseDouble(shippingTotalCanada);\n\t\t\t\t\tshippingTotalCanada = ""$"" + format(shippingCanada, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\n\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1) {\n\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\tshippingTotalCanada = ""USD $"" + format(shippingCanada, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshippingTotalCanada = userDTO.getCurrencySymbol() + format(shippingCanada, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tshippingTotalCanada = """";\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t\t\n\t\t} catch(ServiceException e) {\n\t\t\tlog.debug(""Service Error when loading file"");\n\t\t\taddActionError(getText(""loyauty.error.common.service""));\n\t\t} catch (Exception e) {\n\t\t\taddActionError(getText(""loyauty.error.common.service""));\n\t\t}\t\t\n\t\treturn SUCCESS;\n\t}\n\t\n\tprivate String format(double value, String pattern, String language, String country) {\n\t\tLocale loc = new Locale(language, country);\n\t\tNumberFormat nf = NumberFormat.getInstance(loc);\n\t\tDecimalFormat df = (DecimalFormat) nf;\n\t\tdf.applyPattern(pattern);\n\t\treturn nf.format(value);\n\t}\n\t\n\tprivate int countBackRepeatsFromLast(String inputLeft) {\n\t\tint numberOfRepeats = 0;\n\t\tint pointer = inputLeft.length() - 1;\n\t\twhile (inputLeft.charAt(pointer) == CHAR_PATTERN_THAT_REPEATS) {\n\t\t\tif (inputLeft.charAt(pointer) == CHAR_PATTERN_THAT_REPEATS) ++numberOfRepeats;\n\t\t\tif (pointer == 0) break;\n\t\t\t-- pointer;\n\t\t}\n\t\treturn numberOfRepeats;\n\t}\n\t\n\tprivate int countForthRepeatsFromFirst(String inputRight) {\n\t\tint numberOfRepeats = 0;\n\t\tint pointer = 0;\n\t\twhile (inputRight.charAt(pointer) == CHAR_PATTERN_THAT_REPEATS) {\n\t\t\tif (inputRight.charAt(pointer) == CHAR_PATTERN_THAT_REPEATS) ++numberOfRepeats;\n\t\t\tif (pointer == inputRight.length() - 1) break;\n\t\t\t++pointer;\n\t\t}\n\t\treturn numberOfRepeats;\n\t}\n\t\n\tprivate boolean areThereRepeatsBackLeft(String inputLeft) {\n\t\treturn (countBackRepeatsFromLast(inputLeft) > 0);\n\t}\n\t\n\tprivate boolean areThereRepeatsForthRight(String inputRight) {\n\t\treturn (countForthRepeatsFromFirst(inputRight) > 0);\n\t}\n\t\n\tprivate String concatenate(String inputLeft, String inputRight) {\n\t\tString l = """", union = """", r = """";\n\t\tString leftChar = """", rightChar = """";\n\t\t\n\t\tif (inputLeft.equalsIgnoreCase("""") && inputRight.equalsIgnoreCase("""")) {\n\t\t\treturn """";\n\t\t}\n\t\t\n\t\tif (areThereRepeatsBackLeft(inputLeft)) {\n\t\t\tif (countBackRepeatsFromLast(inputLeft) == inputLeft.length()) {\n\t\t\t\tinputLeft = UNION;\n\t\t\t} else {\t// countBackRepeatsFromLast(inputLeft) < inputLeft.length()\n\t\t\t\tint info = inputLeft.length() - countBackRepeatsFromLast(inputLeft);\n\t\t\t\tinputLeft = inputLeft.substring(0, info + 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (areThereRepeatsForthRight(inputRight)) {\n\t\t\tif (countForthRepeatsFromFirst(inputRight) == inputRight.length()) {\n\t\t\t\tinputRight = UNION;\n\t\t\t} else {\t// countForthRepeatsFromFirst(inputRight) < inputRight.length()\n\t\t\t\tinputRight = inputRight.substring(countForthRepeatsFromFirst(inputRight) - 1, inputRight.length());\n\t\t\t}\n\t\t}\n\t\t\n\t\tleftChar = (inputLeft.length() > 0) ? inputLeft.substring(inputLeft.length() - 1) : """";\n\t\trightChar = (inputRight.length() > 0) ? inputRight.substring(0, 1) : """";\n\t\tif (inputLeft.length() > 0 && inputRight.length() > 0) {\t\t\t\n\t\t\tunion = UNION;\n\t\t\tif (leftChar.equalsIgnoreCase(UNION) && !rightChar.equalsIgnoreCase(UNION)) {\n\t\t\t\tl = inputLeft.substring(0, inputLeft.length() - 1);\n\t\t\t\tr = inputRight;\n\t\t\t} else if (!leftChar.equalsIgnoreCase(UNION) && rightChar.equalsIgnoreCase(UNION)) {\n\t\t\t\tl = inputLeft;\n\t\t\t\tr = inputRight.substring(1, inputRight.length());\n\t\t\t} else if (leftChar.equalsIgnoreCase(UNION) && rightChar.equalsIgnoreCase(UNION)) {\n\t\t\t\tl = inputLeft.substring(0, inputLeft.length() - 1);\n\t\t\t\tr = inputRight.substring(1, inputRight.length());\t\n\t\t\t} else {\n\t\t\t\tl = inputLeft;\n\t\t\t\tr = inputRight;\n\t\t\t}\t\t\t\n\t\t} else if (inputLeft.length() == 0 && inputRight.length() > 0) {\n\t\t\tl = """";\n\t\t\tunion = """";\n\t\t\tr = inputRight;\t\t\t\t\n\t\t} else if (inputLeft.length() > 0 && inputRight.length() == 0) {\n\t\t\tl = inputLeft;\n\t\t\tunion = """";\n\t\t\tr = """";\t\t\t\t\n\t\t} else if (inputLeft.length() == 0 && inputRight.length() == 0) {\n\t\t\t\tl = union = r = """";\n\t\t}\n\t\treturn (l + union + r);\n\t}\n\t\t\n}\n\n----------------------------------- SOURCE END -------------------------------------",1424794647092
error,log,,,"Problems occurred when invoking code from plug-in: ""org.eclipse.jdt.ui"".",1424794647094
error,log,,,"Error in JDT Core during reconcile",1424794647095
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794647939
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794650579
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1424794656374
opened,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794656445
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794656463
executed,command,org.eclipse.ui.ide,3.6.2.M20101201-0800,"org.eclipse.ui.navigate.openResource",1424794656463
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794662715
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1424794668768
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1424794670415
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.file.save",1424794681976
error,log,,,"Exception occurred during problem detection:\n----------------------------------- SOURCE BEGIN -------------------------------------\npackage com.loyauty.web.struts.action.product;\n\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.Locale;\nimport java.util.List;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport com.loyauty.enums.GroupCategoryEnum;\nimport com.loyauty.enums.ProductStatus;\nimport com.loyauty.enums.UserType;\nimport com.loyauty.exception.ServiceException;\nimport com.loyauty.exception.ServiceLocatorException;\nimport com.loyauty.model.UserProductPrice;\nimport com.loyauty.service.core.dto.ImageDTO;\nimport com.loyauty.service.core.dto.BrandDTO;\nimport com.loyauty.service.core.dto.ProductDTO;\nimport com.loyauty.service.core.dto.ProvinceDTO;\nimport com.loyauty.service.core.dto.ShippingTotalDTO;\nimport com.loyauty.service.core.dto.ProductModelDTO;\nimport com.loyauty.service.core.dto.SpecificationDTO;\nimport com.loyauty.service.core.dto.UserDTO;\nimport com.loyauty.service.core.dto.UserProductPriceDTO;\nimport com.loyauty.service.core.dto.UserSessionDTO;\nimport com.loyauty.service.product.ProductService;\nimport com.loyauty.service.specification.SpecificationService;\nimport com.loyauty.service.user.UserService;\nimport com.loyauty.web.RequestAtributeConstants;\nimport com.loyauty.web.WebConstants;\nimport com.loyauty.web.struts.action.LoyautyAction;\nimport com.loyauty.web.util.SeoUrlsMaker;\n\npublic class Product extends LoyautyAction {\n\t\n\tprivate static final long serialVersionUID = 1L;\n\t\n\tprivate static final String UNION = ""_"";\n\tprivate static final char CHAR_PATTERN_THAT_REPEATS = '_';\n\t\n\tprivate ProductService productService;\n\tprivate SpecificationService specificationService;\n\tprivate UserService userService;\n\t\n\t@Getter @Setter\n\tprivate ProductDTO productDTO;\n\t@Getter @Setter\n\tprivate ProductDTO saleProductDTO;\n\t@Getter @Setter\n\tprivate BrandDTO brandDTO;\n\t@Getter @Setter\n\tprivate ImageDTO productImageDTO;\n\t@Getter @Setter\n\tprivate ImageDTO brandImageDTO;\n\t@Getter @Setter\n\tprivate String productImageName;\n\t@Getter @Setter\n\tprivate String brandImageName;\n\t@Getter @Setter\n\tprivate long productId;\n\t@Getter @Setter\n\tprivate String productName;\n\t@Getter @Setter\n\tprivate String desc;\t\n\t@Getter @Setter\n\tprivate String spec;\n\t@Getter @Setter\n\tprivate String other;\n\t@Getter @Setter\n\tprivate String loyaltyProductId;\n\t@Getter @Setter\n\tprivate String loyaltyProductIdWithountPrefix;\n\t@Getter @Setter\n\tprivate String weight;\n\t@Getter @Setter\n\tprivate String w;\n\t@Getter @Setter\n\tprivate String l;\n\t@Getter @Setter\n\tprivate String h;\t\n\t@Getter @Setter\n\tprivate String modelNumber;\n\t@Getter @Setter\n\tprivate String price;\t\n\t@Getter @Setter\n\tprivate String msrp;\n\t@Getter @Setter\n\tprivate String discount;\n\t@Getter @Setter\n\tprivate String percentage;\t\n\t@Getter @Setter\n\tprivate String productBreadcrumb;\n\t@Getter @Setter\n\tprivate String groupName;\n\t@Getter @Setter\n\tprivate String groupHL;\n\t@Getter @Setter\n\tprivate String categoryName;\n\t@Getter @Setter\n\tprivate String categoryHL;\n\t@Getter @Setter\n\tprivate String specName;\n\t@Getter @Setter\n\tprivate String specHL;\t\n\t@Getter @Setter\n\tprivate String warranty;\t\n\t@Getter @Setter\n\tprivate String hrefName;\n\t@Getter @Setter\n\tprivate String link;\n\t@Getter @Setter\n\tprivate String warning;\n\t@Getter @Setter\n\tprivate String warning2;\t\n\t@Getter @Setter\n\tprivate String writeWarning;\n\t@Getter @Setter\n\tprivate String loyaltyProductIdSub;\n\t@Getter @Setter\n\tprivate String newLSProductIdSubHRef;\n\t\n\t@Getter @Setter\n\tprivate String sendRestricted;\n\t\n\t@Getter @Setter\n\tprivate Long numberOfProductModelElements;\n\t//private int numberOfProductModelElements;\n\t@Getter @Setter\n\tprivate List<ShippingTotalDTO> provinceNameList;\n\t@Getter @Setter\n\tprivate String[] provinceName;\t\n\t@Getter @Setter\n\tString[] shippingCost;\n\t@Getter @Setter\n\tprivate String shippingTotalCanada;\n\t\n\t@Getter @Setter\n\tprivate String shippingCostTdName;\t//Line Shipping Cost  in Shipping Rates Tab\n\n\tpublic Product() throws ServiceLocatorException {\n\t\tsuper();\n\t\tproductService = getServiceLocator().getProductService();\n\t\tspecificationService = getServiceLocator().getSpecificationService();\n\t\tuserService = getServiceLocator().getUserService();\n\t}\t\n\t\n\t@Override  \n\tpublic String execute() throws Exception {\n\t\ttry {\n\t\t\tUserSessionDTO userSessionDTO = (UserSessionDTO)request.getSession().getAttribute(WebConstants.USER);\n\t\t\t\n\t\t\tif (userSessionDTO != null) {\n\t\t\t\tproductDTO = productService.getProductInformation(productId, userSessionDTO.getId());\n\t\t\t\tsaleProductDTO\n\t\t\t\tproductBreadcrumb = ""Our Products"";\t\t\t\t\n\t\t\t} else {\n\t\t\t\tproductDTO = productService.getProductInformation(productId, null);\n\t\t\t\tproductBreadcrumb = ""Products"";\n\t\t\t}\n\t\t\t\n\t\t\t//check if is there's products sale\n\n\t\t\t\n\t\t\tproductImageDTO = productDTO.getImage();\n\t\t\tproductImageName = productImageDTO != null ? productImageDTO.getName() : """";\n\t\t\t\n\t\t\tif (productDTO.getBrand() != null) {\n\t\t\t\tbrandDTO = productDTO.getBrand();\n\t\t\t\t\n\t\t\t\tproductDTO.getBrand().setHrefName(SeoUrlsMaker.getBrandUrl(brandDTO.getName(), brandDTO.getId()));\n\t\t\t\t\n\t\t\t\tif (brandDTO.getImage() != null) {\n\t\t\t\t\tbrandImageDTO = brandDTO.getImage();\n\t\t\t\t\tif (brandImageDTO != null) {\n\t\t\t\t\t\tbrandImageName = brandImageDTO.getName();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbrandImageName = """";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbrandImageName = """";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbrandImageName = """";\n\t\t\t}\n\t\t\t\n\t\t\tif (getCurrentLanguage().equals(WebConstants.ENGLISH_LANGUAGE)) {\n\t\t\t\tproductName = productDTO.getNameEng().getName();\n\t\t\t\tdesc = productDTO.getDescriptionEng().getName();\n\t\t\t\tspec = productDTO.getSpecificationEng().getName();\n\t\t\t\tother = productDTO.getOtherEng().getName();\n\t\t\t\twarranty = (productDTO.getWarrantyEng() != null) ? productDTO.getWarrantyEng().getName() : """";\n\t\t\t} else if (getCurrentLanguage().equals(WebConstants.FRENCH_LANGUAGE)) { \n\t\t\t\tproductName = productDTO.getNameFr().getName();\n\t\t\t\tdesc = productDTO.getDescriptionFr().getName();\n\t\t\t\tspec = productDTO.getSpecificationFr().getName();\n\t\t\t\tother = productDTO.getSpecificationFr().getName();\n\t\t\t\twarranty = (productDTO.getWarrantyFr() != null) ? productDTO.getWarrantyFr().getName() : """";\n\t\t\t}\n\t\t\t\n\t\t\t//Link url \n\t\t\tif(productDTO.getLinkList().size() > 0)\n\t\t\t\tlink = productDTO.getLinkList().get(0).getLink();\n\n\t\t\tif (desc.indexOf(""<p></p>"") != -1 && desc.length() == 7) desc = desc.replaceAll(""<p></p>"", """");\n\t\t\tif (spec.indexOf(""<p></p>"") != -1 && spec.length() == 7) spec = spec.replaceAll(""<p></p>"", """");\n\t\t\t\n\t\t\tInteger status = productDTO.getStatus().getValue();\n\t\t\tif (status == ProductStatus.UNAVAILABLE.getValue()) {\n\t\t\t\twriteWarning = ""y2"";\n\t\t\t\twarning = ""PRODUCT TEMPORARILY UNAVAILABLE"";\n\t\t\t} else if (status == ProductStatus.DISCONTINUED.getValue()) {\n\t\t\t\twriteWarning = ""y3"";\n\t\t\t\tloyaltyProductIdSub = productDTO.getLoyaltyProductIdSub();\n\t\t\t\twarning = ""THIS PRODUCT IS DISCONTINUED"";\n\t\t\t\t\n\t\t\t\tif (!loyaltyProductIdSub.matches(""^\\\\s*$"")) {\n\t\t\t\t\twarning2 = ""Please view our suggested replacement: "";\n\t\t\t\t\tProductDTO newProductDTO = productService.getProductIdFromLSProductId(loyaltyProductIdSub);\n\t\t\t\t\tif (newProductDTO != null) {\n\t\t\t\t\t\tlong newProductId = newProductDTO.getId();\n\t\t\t\t\t\tString newBrandName = newProductDTO.getBrand().getName();\n\t\t\t\t\t\tString newProductName = """";\n\t\t\t\t\t\tif(getCurrentLanguage().equals(WebConstants.ENGLISH_LANGUAGE)) {\t\t\t\t\t\n\t\t\t\t\t\t\tnewProductName = newProductDTO.getNameEng().getName();\t\t\t\t\t\n\t\t\t\t\t\t} else if(getCurrentLanguage().equals(WebConstants.FRENCH_LANGUAGE)) {\n\t\t\t\t\t\t\tnewProductName = newProductDTO.getNameFr().getName();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewLSProductIdSubHRef = SeoUrlsMaker.getProductUrl(newBrandName, newProductName, newProductId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//weight = productDTO.getWeight();\t\t\n\t\t\tweight = productDTO.getBoxTotalWeight()+"""";\t\n\t\t\tif (weight != null && !weight.equals(""null"")) {\n\t\t\t\tweight = (!weight.matches(""^\\\\s*$"")) ? String.valueOf(weight) : """";\t\n\t\t\t} else {\n\t\t\t\tweight = """";\n\t\t\t}\n\t\t\t\n\t\t\t/*String width = productDTO.getWidth();\tw = (!width.equalsIgnoreCase(""0"")) ? String.valueOf(width) : """";\n\t\t\tString large = productDTO.getLarge();\tl = (!large.equalsIgnoreCase(""0"")) ? String.valueOf(large) : """";\t\n\t\t\tString high = productDTO.getHigh();\t\th = (!high.equalsIgnoreCase(""0""))  ? String.valueOf(high)  : """";*/\n\t\t\t\n\t\t\tString width = productDTO.getBoxWidth()+"""";\tw = (!width.equalsIgnoreCase(""0"") && !width.equalsIgnoreCase(""null"")) ? String.valueOf(width) : """";\n\t\t\tString large = productDTO.getBoxLength()+"""";l = (!large.equalsIgnoreCase(""0"") && !large.equalsIgnoreCase(""null"")) ? String.valueOf(large) : """";\t\n\t\t\tString high = productDTO.getBoxHeight()+"""";h = (!high.equalsIgnoreCase(""0"")&& !high.equalsIgnoreCase(""null""))  ? String.valueOf(high)  : """";\n\t\t\t\n\t\t\tif(productDTO.getManufactureProductList().size() >= 1) {\n\t\t\t\tmodelNumber= ((ProductModelDTO)productDTO.getManufactureProductList().get(0)).getName();\n\t\t\t} else {\n\t\t\t\tmodelNumber = """";\n\t\t\t}\n\t\t\tmodelNumber = ((ProductModelDTO)productDTO.getManufactureProductList().get(0)).getName();\t\t\t\n\t\t\t\n\t\t\tif (userSessionDTO != null) {\n\t\t\t\tList<UserProductPriceDTO> userProductPriceDTOList = productService.getUserProductPriceList(productId);\n\t\t\t\tfor (UserProductPriceDTO userProductPriceDTO : userProductPriceDTOList) {\n\t\t\t\t\tif (userSessionDTO.getId() == userProductPriceDTO.getUserId() && userProductPriceDTO.getExcluded()) {\n\t\t\t\t\t\tsendRestricted = ""restricted"";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/*numberOfProductModelElements = (productDTO.getManufactureProductList() != null) \n\t\t\t\t\t\t\t\t\t\t\t? productDTO.getManufactureProductList().size()\n\t\t\t\t\t\t\t\t\t\t\t: 0;*/\n\t\t\tnumberOfProductModelElements=productService.isGroupProductID(productId);\n\t\t\tprice = productDTO.getPriceProduct();\n\t\t\tmsrp = productDTO.getMsrp();\n\t\t\tpercentage = """";\n\t\t\tdiscount = """";\n\t\t\t\n\t\t\tdouble priceVal = 0d;\n\t\t\tdouble msrpVal = 0d;\n\t\t\tdouble discountVal = 0d;\n\t\t\tdouble percentageVal = 0d;\n\t\t\t\n\t\t\tUserDTO userDTO = null;\n\t\t\tif (userSessionDTO != null) {\t// User logged in!!!\n\t\t\t\t//Currency Rate and Symbol\n\t\t\t\tuserDTO = userService.getUserInformation(userSessionDTO.getId());\n\t\t\t\tif (price != null) {\n\t\t\t\t\tif (!price.matches(""^\\\\s*$"") && !price.equalsIgnoreCase("""")) {\t\t\t\t\t\n\t\t\t\t\t\tpriceVal = Double.parseDouble(price);\n\t\t\t\t\t\tprice = ""$"" + format(priceVal, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1) {\n\t\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\t\tprice = ""USD $"" + format(priceVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tprice = userDTO.getCurrencySymbol().toUpperCase() + format(priceVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpriceVal = 0d;\n\t\t\t\t\t\tprice = """";\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\t\n\t\t\t\tif (msrp != null) {\t\t\t\t\t\n\t\t\t\t\tif (!msrp.matches(""^\\\\s*$"") && !msrp.equalsIgnoreCase("""")) {\t\n\t\t\t\t\t\tmsrpVal = Double.parseDouble(msrp);\n\t\t\t\t\t\tmsrp = ""$"" + format(msrpVal, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1) {\n\t\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\t\tmsrp = ""USD $"" + format(msrpVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmsrp = userDTO.getCurrencySymbol() + format(msrpVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdiscountVal = msrpVal - priceVal;\n\t\t\t\t\t\tif(discountVal == 0d) {\n\t\t\t\t\t\t\tdiscount = """";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdiscount = ""$"" + format(discountVal, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1) {\n\t\t\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\t\t\tdiscount = ""USD $"" + format(discountVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdiscount = userDTO.getCurrencySymbol() + format(discountVal*userDTO.getCurrencyRate(), ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpercentageVal = (msrpVal != 0d) ? (100d * discountVal / msrpVal) : 0d;\n\t\t\t\t\t\tpercentage = (percentageVal != 0d) \n\t\t\t\t\t\t\t\t\t\t? ""("" + format(percentageVal, ""0.00"", ""en"", ""CA"") + ""%)"" \n\t\t\t\t\t\t\t\t\t\t: """" ;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiscount = """";\n\t\t\t\t\t\tpercentage = """";\n\t\t\t\t\t\tmsrp = """";\n\t\t\t\t\t}\t\t\t\n\t\t\t\t}\t\t\t\n\t\t\t\tloyaltyProductId = concatenate(userSessionDTO.getCode(), productDTO.getLoyaltyProductId());\n\t\t\t} else {\t// User Not Logged-in!!!!\n\t\t\t\tif (msrp != null || !msrp.matches(""^\\\\s*$"")) {\n\t\t\t\t\tmsrpVal = Double.parseDouble(msrp);\n\t\t\t\t\tmsrp = ""$"" + format(msrpVal, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t} else {\n\t\t\t\t\tmsrp = """";\t\t\n\t\t\t\t}\n\t\t\t\tloyaltyProductId = productDTO.getLoyaltyProductId();\n\t\t\t}\n\t\t\tloyaltyProductIdWithountPrefix=productDTO.getLoyaltyProductId();\n\t\t\tlong groupId = productDTO.getCategory().getCategoryGoupeId();\n\t\t\tgroupName = groupId >= 1L \n\t\t\t\t\t\t? GroupCategoryEnum.values()[((int) groupId) - 1].getCode() \n\t\t\t\t\t\t: """";\n\t\t\tgroupHL = SeoUrlsMaker.getCategoryGroupUrl(groupName);\n\t\t\tlong categoryID = productDTO.getCategory().getId();\n\t\t\tcategoryName = productDTO.getCategory().getName();\n\t\t\tcategoryHL = SeoUrlsMaker.getCategoryUrl(groupName, categoryName, categoryID);\n\t\t\tlong specId = productDTO.getMainFilterTypeId();\n\t\t\tSpecificationDTO specDTO = specificationService.getSpecification(specId);\t\t\t\n\t\t\t\n\t\t\tspecName = specDTO.getName();\n\t\t\tspecHL = SeoUrlsMaker.getSpecificationUrl(groupName, categoryName, specName, specId);\n\t\t\t\n\t\t\trequest.getSession(true).setAttribute(""queryID"", groupId);\t\t\t\n\t\t\trequest.getSession(true).setAttribute(""productBreadcrumb"", productBreadcrumb);\n\t\t\trequest.getSession(true).setAttribute(""groupName"", groupName);\n\t\t\trequest.getSession(true).setAttribute(""groupHL"", groupHL);\n\t\t\trequest.getSession(true).setAttribute(""categoryName"", categoryName);\n\t\t\trequest.getSession(true).setAttribute(""categoryHL"", categoryHL);\n\t\t\trequest.getSession(true).setAttribute(""specName"", specName);\n\t\t\trequest.getSession(true).setAttribute(""specHL"", specHL);\n\t\t\t\n\t\t\t//Set information title\n\t\t\trequest.setAttribute(RequestAtributeConstants.PAGE_TITLE_PARAM_1, productName);\n\t\t\trequest.setAttribute(RequestAtributeConstants.PAGE_TITLE_PARAM_2, brandDTO.getName());\n\t\t\t\n\t\t\t\n\t\t\tif (userSessionDTO != null) {\n\t\t\t\tlong userId = userSessionDTO.getId();\n\t\t\t\tprovinceNameList = productService.getShippingTotalList(productId, userId);\n\t\t\t\tfinal int SIZE = provinceNameList.size();\n\t\t\t\tprovinceName = new String[SIZE];\n\t\t\t\tshippingCost = new String[SIZE];\t\n\t\t\t\t\n\t\t\t\tProvinceDTO provinceDTO = new ProvinceDTO();\n\t\t\t\tlong provinceId = 0L;\n\t\t\t\tint count = 0;\n\t\t\t\tString $ = ""$"";\n\t\t\t\tshippingCostTdName = ""Shipping Cost"";\n\t\t\t\tfor (ShippingTotalDTO shippingTotalDTO : provinceNameList) {\n\t\t\t\t\tprovinceId = shippingTotalDTO.getProvinceId();\n\t\t\t\t\tprovinceDTO = productService.getProvince(provinceId);\n\t\t\t\t\tprovinceName[count] = provinceDTO.getCode();\n\t\t\t\t\tif (!shippingTotalDTO.getAverageShippingTotal().trim()\n\t\t\t\t\t\t\t.equalsIgnoreCase(""NOT AVAILABLE"")) {\n\t\t\t\t\t\tshippingCost[count] = $ + shippingTotalDTO.getAverageShippingTotal();\n\t\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1\n\t\t\t\t\t\t\t\t&& !shippingTotalDTO.getAverageShippingTotal().trim().matches(""^\\\\s*$"")) {\n\t\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\t\tshippingCostTdName = ""Shipping Cost (USD $)"";\n\t\t\t\t\t\t\t\tshippingCost[count] = shippingTotalDTO.getAverageShippingTotal();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tshippingCostTdName = ""Shipping Cost (""+userDTO.getCurrencySymbol().toUpperCase()+"")"";\n\t\t\t\t\t\t\t\tshippingCost[count] = shippingTotalDTO.getAverageShippingTotal();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshippingCost[count] = ""N/A"";\n\t\t\t\t\t}\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tUserProductPriceDTO userProductPriceDTO = productService.getUserProductPriceInformation(productId, userId);\n\t\t\t\t\n\t\t\t\tshippingTotalCanada = userProductPriceDTO.getShippingTotalCanada();\n\t\t\t\tdouble shippingCanada = 0d;\n\t\t\t\tif (shippingTotalCanada != null || !shippingTotalCanada.matches(""^\\\\s*$"")) {\n\t\t\t\t\tshippingCanada = Double.parseDouble(shippingTotalCanada);\n\t\t\t\t\tshippingTotalCanada = ""$"" + format(shippingCanada, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\n\t\t\t\t\tif(userDTO!=null && userDTO.getCurrencyId()!=null && userDTO.getCurrencyId()!=1) {\n\t\t\t\t\t\tif(userDTO.getCurrencySymbol()!=null && userDTO.getCurrencySymbol().toUpperCase().equals(""USD"")) {\n\t\t\t\t\t\t\tshippingTotalCanada = ""USD $"" + format(shippingCanada, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshippingTotalCanada = userDTO.getCurrencySymbol() + format(shippingCanada, ""#,###.00"", ""en"", ""US"");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tshippingTotalCanada = """";\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t\t\n\t\t} catch(ServiceException e) {\n\t\t\tlog.debug(""Service Error when loading file"");\n\t\t\taddActionError(getText(""loyauty.error.common.service""));\n\t\t} catch (Exception e) {\n\t\t\taddActionError(getText(""loyauty.error.common.service""));\n\t\t}\t\t\n\t\treturn SUCCESS;\n\t}\n\t\n\tprivate String format(double value, String pattern, String language, String country) {\n\t\tLocale loc = new Locale(language, country);\n\t\tNumberFormat nf = NumberFormat.getInstance(loc);\n\t\tDecimalFormat df = (DecimalFormat) nf;\n\t\tdf.applyPattern(pattern);\n\t\treturn nf.format(value);\n\t}\n\t\n\tprivate int countBackRepeatsFromLast(String inputLeft) {\n\t\tint numberOfRepeats = 0;\n\t\tint pointer = inputLeft.length() - 1;\n\t\twhile (inputLeft.charAt(pointer) == CHAR_PATTERN_THAT_REPEATS) {\n\t\t\tif (inputLeft.charAt(pointer) == CHAR_PATTERN_THAT_REPEATS) ++numberOfRepeats;\n\t\t\tif (pointer == 0) break;\n\t\t\t-- pointer;\n\t\t}\n\t\treturn numberOfRepeats;\n\t}\n\t\n\tprivate int countForthRepeatsFromFirst(String inputRight) {\n\t\tint numberOfRepeats = 0;\n\t\tint pointer = 0;\n\t\twhile (inputRight.charAt(pointer) == CHAR_PATTERN_THAT_REPEATS) {\n\t\t\tif (inputRight.charAt(pointer) == CHAR_PATTERN_THAT_REPEATS) ++numberOfRepeats;\n\t\t\tif (pointer == inputRight.length() - 1) break;\n\t\t\t++pointer;\n\t\t}\n\t\treturn numberOfRepeats;\n\t}\n\t\n\tprivate boolean areThereRepeatsBackLeft(String inputLeft) {\n\t\treturn (countBackRepeatsFromLast(inputLeft) > 0);\n\t}\n\t\n\tprivate boolean areThereRepeatsForthRight(String inputRight) {\n\t\treturn (countForthRepeatsFromFirst(inputRight) > 0);\n\t}\n\t\n\tprivate String concatenate(String inputLeft, String inputRight) {\n\t\tString l = """", union = """", r = """";\n\t\tString leftChar = """", rightChar = """";\n\t\t\n\t\tif (inputLeft.equalsIgnoreCase("""") && inputRight.equalsIgnoreCase("""")) {\n\t\t\treturn """";\n\t\t}\n\t\t\n\t\tif (areThereRepeatsBackLeft(inputLeft)) {\n\t\t\tif (countBackRepeatsFromLast(inputLeft) == inputLeft.length()) {\n\t\t\t\tinputLeft = UNION;\n\t\t\t} else {\t// countBackRepeatsFromLast(inputLeft) < inputLeft.length()\n\t\t\t\tint info = inputLeft.length() - countBackRepeatsFromLast(inputLeft);\n\t\t\t\tinputLeft = inputLeft.substring(0, info + 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (areThereRepeatsForthRight(inputRight)) {\n\t\t\tif (countForthRepeatsFromFirst(inputRight) == inputRight.length()) {\n\t\t\t\tinputRight = UNION;\n\t\t\t} else {\t// countForthRepeatsFromFirst(inputRight) < inputRight.length()\n\t\t\t\tinputRight = inputRight.substring(countForthRepeatsFromFirst(inputRight) - 1, inputRight.length());\n\t\t\t}\n\t\t}\n\t\t\n\t\tleftChar = (inputLeft.length() > 0) ? inputLeft.substring(inputLeft.length() - 1) : """";\n\t\trightChar = (inputRight.length() > 0) ? inputRight.substring(0, 1) : """";\n\t\tif (inputLeft.length() > 0 && inputRight.length() > 0) {\t\t\t\n\t\t\tunion = UNION;\n\t\t\tif (leftChar.equalsIgnoreCase(UNION) && !rightChar.equalsIgnoreCase(UNION)) {\n\t\t\t\tl = inputLeft.substring(0, inputLeft.length() - 1);\n\t\t\t\tr = inputRight;\n\t\t\t} else if (!leftChar.equalsIgnoreCase(UNION) && rightChar.equalsIgnoreCase(UNION)) {\n\t\t\t\tl = inputLeft;\n\t\t\t\tr = inputRight.substring(1, inputRight.length());\n\t\t\t} else if (leftChar.equalsIgnoreCase(UNION) && rightChar.equalsIgnoreCase(UNION)) {\n\t\t\t\tl = inputLeft.substring(0, inputLeft.length() - 1);\n\t\t\t\tr = inputRight.substring(1, inputRight.length());\t\n\t\t\t} else {\n\t\t\t\tl = inputLeft;\n\t\t\t\tr = inputRight;\n\t\t\t}\t\t\t\n\t\t} else if (inputLeft.length() == 0 && inputRight.length() > 0) {\n\t\t\tl = """";\n\t\t\tunion = """";\n\t\t\tr = inputRight;\t\t\t\t\n\t\t} else if (inputLeft.length() > 0 && inputRight.length() == 0) {\n\t\t\tl = inputLeft;\n\t\t\tunion = """";\n\t\t\tr = """";\t\t\t\t\n\t\t} else if (inputLeft.length() == 0 && inputRight.length() == 0) {\n\t\t\t\tl = union = r = """";\n\t\t}\n\t\treturn (l + union + r);\n\t}\n\t\t\n}\n\n----------------------------------- SOURCE END -------------------------------------",1424794684230
error,log,,,"Problems occurred when invoking code from plug-in: ""org.eclipse.jdt.ui"".",1424794684231
error,log,,,"Error in JDT Core during reconcile",1424794684233
error,log,,,"Exception occurred during problem detection:\n----------------------------------- SOURCE BEGIN -------------------------------------\npackage com.loyauty.web.struts.action.sales;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\nimport javax.servlet.http.HttpSession;\n\nimport org.apache.struts2.views.xslt.ArrayAdapter;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport com.loyauty.exception.ServiceLocatorException;\nimport com.loyauty.service.core.dto.ProductDTO;\nimport com.loyauty.service.core.dto.UserSessionDTO;\nimport com.loyauty.service.core.dto.RectangularProductDTO;\nimport com.loyauty.service.product.ProductService;\nimport com.loyauty.service.user.UserService;\nimport com.loyauty.web.WebConstants;\nimport com.loyauty.web.struts.action.LoyautyAction;\nimport com.loyauty.web.util.SeoUrlsMaker;\n\npublic class ClientSales   extends LoyautyAction{\n\tprivate static final long serialVersionUID = 8240353423713266885L;\n\t\n\tprivate ProductService productService;\n\tprivate UserService userService;\n\n\tprivate UserSessionDTO userSession;\n\t\n\t@Getter @Setter\n\tprivate String userLogin;\n\t@Getter @Setter\n\tprivate  List<ProductDTO> userSalesProductList;\n\t@Getter @Setter\n\tprivate  List<RectangularProductDTO>rectangularProList;\n\t@Getter @Setter\n\tprivate  List<Integer> indexList;\n\t@Getter @Setter\n\tInteger sizeList;\n\t@Getter @Setter\n\tInteger currentPageIndex;\n\t@Getter @Setter\n\tInteger ITEMS_COUNT_IN_COLUMN=3;\n\tInteger COLUMNS_IN_PAGE=4;\n\t\n\t/*=========================================================================================\n\t\t\t\t\t\t\t\t\tDefault constructor\n\t  =========================================================================================*/\n\tpublic ClientSales() throws ServiceLocatorException {\n\t\tsuper();\t \n\t\tproductService = getServiceLocator().getProductService();\n\t\tuserService = getServiceLocator().getUserService();\n\t\trectangularProList=new ArrayList<RectangularProductDTO>();\n\t\tindexList=new ArrayList<Integer>();\n\t}\n\n\t/*=========================================================================================\n \t\t\t\t\t\t\t\t\tmethod execute\n  \t  =========================================================================================*/\n\t@Override  \n\tpublic String execute() throws Exception {\t\n\t\tHttpSession session = request.getSession(true);\n\t\tuserSession=(UserSessionDTO)session.getAttribute(WebConstants.USER);\n\t\tuserLogin="""";\n\t\tcurrentPageIndex=(Integer)session.getAttribute(""currentPageIndex"");\n\t\tif(currentPageIndex==null)currentPageIndex=0;\n\t\tuserSalesProductList=(List<ProductDTO>)session.getAttribute(""userSalesProductList"");\n\t\tif(userSalesProductList==null){\n\t\t\tuserSalesProductList=productService.getSaleActiveByUserId(3L);\n\t\t\tsession.setAttribute(""userSalesProductList"",userSalesProductList);\n\t\t}\n\t\tuserSalesProductList=productService.getSaleActiveByUserId(3L);\n\t\tif(userSalesProductList==null)userSalesProductList=new ArrayList<ProductDTO>();\n\t\trectangularProList=getSalesProductListLikeRectongular(userSalesProductList,ITEMS_COUNT_IN_COLUMN,COLUMNS_IN_PAGE);\n\t\tindexList=getPageIndexes(userSalesProductList.size());\n\t\tif(userSession!=null)userLogin=userSession.getLogin();\n\t\tSimpleDateFormat frm=new SimpleDateFormat(""dd-MM-yyyy"");\t\n\t\ttry{\n\t\t\treturn SUCCESS;\n\t\t}catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\treturn INPUT;\n\t\t}\n\t\t\n\t\t\n\t}\n\n\t\n\tpublic List<RectangularProductDTO> getSalesProductListLikeRectongular(List<ProductDTO> userSalesProductList,Integer itemsInColumn, Integer columnInPage){\n\t\tList<RectangularProductDTO> result=new ArrayList<RectangularProductDTO>();\n\t\tRectangularProductDTO column=new RectangularProductDTO();\n\t\tint indexColumn=0;\n\t\tfor(int i=0;i<userSalesProductList.size();i++){\n\t\t\tProductDTO pDTO=userSalesProductList.get(i);\n\t\t\tpDTO.setHrefName(SeoUrlsMaker.getProductUrl(pDTO.getBrand().getName(), pDTO.getNameProduc(), pDTO.getId()));\n\t\t\tif((i % itemsInColumn)==0 ){\n\t\t\t\tcolumn=new RectangularProductDTO();\n\t\t\t\tcolumn.setIndex(indexColumn);\n\t\t\t\tcolumn.getListProductDTO().add(pDTO);\n\t\t\t\tresult.add(column);\n\t\t\t\tindexColumn++;\n\t\t\t}else{\n\t\t\t\tresult.get(column.getIndex()).getListProductDTO().add(pDTO);\n\t\t\t}\n\t\t}\n\t  return result;\n\t}\n\t\n\t\n\t\n\tpublic List<Integer> getPageIndexes(Integer size){\n\t\tList<Integer> result=new ArrayList<Integer>();\n\t\tif(size==null)size=0;\n\t\tInteger nbPages=size/(ITEMS_COUNT_IN_COLUMN*COLUMNS_IN_PAGE);\n\t\tfor(int i=1;i<nbPages+2;i++){\n\t\t\tresult.add(i);\n\t\t}\n\t\treturn result;\n\t}\n\t\n\t\n\t\n\t\n}\n\n----------------------------------- SOURCE END -------------------------------------",1424794684255
error,log,,,"Problems occurred when invoking code from plug-in: ""org.eclipse.jdt.ui"".",1424794684257
error,log,,,"Error in JDT Core during reconcile",1424794684257
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794686254
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794695774
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794700586
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1424794710304
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1424794714877
