what,kind,bundleId,bundleVersion,description,time
error,log,,,"Error in JDT Core during reconcile",1421082055488
error,log,,,"Exception occurred during problem detection:\n----------------------------------- SOURCE BEGIN -------------------------------------\npackage com.loyauty.web.struts.action.orders;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport org.apache.commons.io.FileUtils;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport com.loyauty.exception.ServiceLocatorException;\nimport com.loyauty.model.User;\nimport com.loyauty.service.core.dto.BasicUserDTO;\nimport com.loyauty.service.core.dto.OrdersDTO;\nimport com.loyauty.service.core.dto.ProductDTO;\nimport com.loyauty.service.core.dto.UserFileRecoveryDTO;\nimport com.loyauty.service.core.dto.UserSessionDTO;\nimport com.loyauty.service.orders.OrdersService;\nimport com.loyauty.service.product.ProductService;\nimport com.loyauty.service.user.UserService;\nimport com.loyauty.web.struts.action.LoyautyAction;\nimport javax.servlet.http.HttpSession;\n\npublic class UploadAdminXLS extends LoyautyAction {\n\n\tprivate static final long serialVersionUID = 6649940042042023814L;\n\tprivate OrdersService orderService;\n\tprivate UserService userService;\n\tprivate ProductService productService;\n\t@Getter @Setter\n\tprivate File fileXLS;\n\t@Getter @Setter\n\tprivate String myFileContentType;\n\t@Getter @Setter\n\tprivate String myFileFileName;\n\t@Getter @Setter\n\tprivate String destPath;\n\t@Getter @Setter\n\tprivate String message="""";\n\t@Getter @Setter\n\tprivate String showNotificationPop;\n\t@Getter @Setter\n\tprivate String showWaitPop;\n\t@Getter @Setter\n\tprivate Long okNotificationPop;\n\t@Getter @Setter\n\tprivate int init;\n\t@Getter @Setter\n\tprivate List<User> usersList;\n\t@Getter @Setter\n\tprivate String userLogo;\n\t@Getter @Setter\n\tStringBuffer rapportError;\n\t@Getter @Setter\n\tprivate String userLogin;\n\tprivate User user;\n\tprivate String userAdminLogin;\n\tprivate static int USER_TYPE = 2;\n\t@Getter @Setter\n\tprivate List<ProductDTO>listProductDTOFormXLS;\n\t@Getter @Setter\n\tprivate Integer doUpdate;\n\t@Getter @Setter\n\tList<ProductDTO> listProductNotFound;\n\t@Getter @Setter\n\tprivate List<OrdersDTO> etaOrdersList;\n\t\n\tpublic UploadAdminXLS()throws ServiceLocatorException{\n\t\tsuper();\n\t\torderService = getServiceLocator().getOrderService();\n\t\tuserService = getServiceLocator().getUserService();\n\t\tproductService=getServiceLocator().getProductService();\n\t}\n\n\t@SuppressWarnings({ ""unchecked"" })\n\t@Override\n\tpublic String execute() throws Exception {\n\t\trapportError=new StringBuffer();\n\t\tshowNotificationPop=""visibility:hidden;display:none;"";\n\t\tshowWaitPop=""visibility:hidden;display:none;"";\n\t\tHttpSession session = request.getSession(true);\n\t\tUser userAdmin=(User)session.getAttribute(""userAdmin"");\n\t\tinit=(Integer)session.getAttribute(""init"");\n\t\tuserLogo=(String)session.getAttribute(""userLogo"");\n\t\tlistProductDTOFormXLS=(List<ProductDTO>)session.getAttribute(""listProductDTOFormXLS"");\n\t\tif(listProductDTOFormXLS==null)listProductDTOFormXLS=new ArrayList<ProductDTO>();\n\t\tetaOrdersList=new ArrayList<OrdersDTO>();\n\t\tsession.setAttribute(""etaOrdersList"",etaOrdersList);\n\t\t// -------------------------- recovery users if not exit --------------------\n\t\tBasicUserDTO basicUserDTO = new BasicUserDTO();\n\t\tbasicUserDTO.setTypeId(USER_TYPE);\n\t\tList<User> usersListSession=(List<User>)session.getAttribute(""usersListSession"");\n\t\tif(usersListSession==null){\n\t\t\tList<UserSessionDTO> listAllUsers= userService.getAllUsers(basicUserDTO);\n\t\t\tusersList=new ArrayList<User>();\n\t\t\tfor(UserSessionDTO userDTO:listAllUsers){\n\t\t\t\tUser user=new User();\n\t\t\t\tuser.setId(userDTO.getId());\n\t\t\t\tuser.setLogin(userDTO.getLogin());\n\t\t\t\tusersList.add(user);\n\t\t\t}\n\t\t\tsession.setAttribute(""usersListSession"",usersList);\n\t\t}else usersList=usersListSession;\n\n\t\t// ----------------- quit immediately if admin not sign in correctly -----------\n\t\tif(userAdmin==null){\n\t\t\tuserAdminLogin="""";\n\t\t\treturn SUCCESS;\t\n\t\t}else{\n\t\t\tuserAdminLogin=userAdmin.getLogin();\n\t\t}\n\n\t\t// --------------- quit immediately if just notification response(OK) ----------\n\t\tif(okNotificationPop!=null && okNotificationPop!=0L){\n\t\t\trapportError=(StringBuffer)session.getAttribute(""rapportError"");\n\t\t\treturn SUCCESS;\t\n\t\t}\n\n\t\t// ------------------------ check the file name destination --------------------\n\t\tString fileNameToSave=""error.xls"";\n\t\tif(fileXLS!=null || (doUpdate!=0 && doUpdate!=null)){\n\t\t\tswitch (init) {\n\t\t\tcase 1:fileNameToSave=""ordersAdminImport.xls"";\n\t\t\tbreak;\n\t\t\tcase 2:fileNameToSave=""stock.xls"";\n\t\t\tbreak;\n\t\t\tcase 3:fileNameToSave=""specialShipping.xls"";\n\t\t\tbreak;\n\t\t\tcase 4:fileNameToSave=""etaOrders.xls"";\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\trapportError=null;\n\t\t\t\tsession.setAttribute(""rapportError"",null);\n\t\t\t\treturn SUCCESS;\t\n\t\t\t}\n\n\t\t\t/*---------------- retrieve file info customer order -------------------------*/\n\t\t\tuser=userService.getUserByLogin(userLogin);\n\t\t\tsession.setAttribute(""userLogin"",userLogin);\n\t\t\tif(user==null && init==3){\n\t\t\t\tuserLogo=null;\n\t\t\t\tsession.setAttribute(""userLogo"",null);\n\t\t\t\trapportError=null;\n\t\t\t\tsession.setAttribute(""rapportError"",null);\n\t\t\t\taddActionError(getText(""loyauty.error.common.userNotFound""));\n\t\t\t\treturn SUCCESS;\n\t\t\t}\n\n\t\t\t//show user logo\n\t\t\tuserLogo=""./images/orders/usersLogos/""+userLogin+"".png"";\n\t\t\tsession.setAttribute(""userLogo"",userLogo);\n\t\t\tString filePath = session.getServletContext().getRealPath(""/"");\n\t\t\tString filePathData = filePath + ""WEB-INF/jsp/orders/data/"";\n\n\t\t\t//if userLogo dosn't exist give him a blank logo\n\t\t\tcreateUserLogo(filePath +""images/orders/usersLogos/BLANK.png"", filePath +""images/orders/usersLogos/""+userLogin+"".png"");\n\n\t\t\tif(doUpdate==null || doUpdate==0){\n\t\t\t\t// ----------------------------------- Upload file xls ----------------------------------\n\t\t\t\tFile destFileXLS = new File(filePathData+fileNameToSave);\n\t\t\t\tif(destFileXLS.exists())destFileXLS.delete();\n\n\t\t\t\ttry {\n\t\t\t\t\tdestFileXLS = new File(filePathData, fileNameToSave);\n\t\t\t\t\tFileUtils.copyFile(fileXLS, destFileXLS);\n\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t\tshowNotificationPop=""display:block;visibility:visible;"";\n\t\t\t\t\tmessage=""The system to a problem.\\nCheck that the file is in XLS format"";\n\t\t\t\t\trapportError=null;\n\t\t\t\t\tsession.setAttribute(""rapportError"",null);\n\t\t\t\t\tuserLogo=null;\n\t\t\t\t\tsession.setAttribute(""userLogo"",null);\n\t\t\t\t\treturn ""input"";\n\t\t\t\t}\n\t\t\t\t/*--------------------------------------------------------------------------------*/\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tswitch (init) {\n\t\t\t\tcase 1: // Update orders from manifest xls file\n\t\t\t\t\torderService.updateOrdersRowsFromAdminXLS(userAdminLogin,filePathData);\n\t\t\t\t\tmessage=""Update of Orders status is successfully completed"";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2: // Update stock from  xls file\n\t\t\t\t\tif(doUpdate!=null && doUpdate!=0){\n\t\t\t\t\t\tproductService.updateStock(listProductDTOFormXLS);\n\t\t\t\t\t\tlistProductDTOFormXLS=new ArrayList<ProductDTO>();\n\t\t\t\t\t\tsession.setAttribute(""listProductDTOFormXLS"", listProductDTOFormXLS);\n\t\t\t\t\t\tmessage=""Update of Stock is successfully completed"";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlistProductDTOFormXLS=productService.listStockFromXLS(filePath, filePathData);\n\t\t\t\t\t\tlistProductNotFound=productService.getProductNotFound(listProductDTOFormXLS);\n\t\t\t\t\t\tsession.setAttribute(""listProductDTOFormXLS"", listProductDTOFormXLS);\n\t\t\t\t\t\tmessage=""Uploading file is successfully completed"";\n\t\t\t\t\t}\n\t\t\t\t\tSystem.out.println(""listProductDTOFormXLS.size=""+listProductDTOFormXLS.size());\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3: // Update special shipping from  xls file\n\t\t\t\t\torderService.updateSpecialShippingFromXLS(rapportError,userAdminLogin,user.getId(),filePathData);\n\t\t\t\t\tmessage=""Saving Shipping Rate is successfully completed"";\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\tcase 4:  // prepare orders list from xls ETA file for ETA report, to generate this report\n\t\t\t\t\t\t // look at the class OrdersAdminXLS.java\n\t\t\t\t\t//get eta_field_name\n\t\t\t\t\tUserFileRecoveryDTO ufr=orderService.getUserFileRecoveryByUser(userLogin);\n\t\t\t\t\tSystem.out.println(""ufr.getEtaFileTypeId():""+ufr.getEtaFileTypeId());\n\t\t\t\t\tSystem.out.println(""ufr.getEtaFieldName():""+ufr.getEtaFieldName());\n\t\t\t\t\tSystem.out.println(""[Class:uploadAdminXLS/Method:execute]---> Generate ETA List[etaOrdersList] And save it in session"");\n\t\t\t\t\tetaOrdersList=orderService.getEtaOrdersList(ufr.getEtaFieldName(),user.getId(),filePathData);\n\t\t\t\t\tsession.setAttribute(""etaOrdersList"",etaOrdersList);\n\t\t\t\t\tsession.setAttribute(""allOrdersSelectedSignal"",1L);\n\t\t\t\t\tmessage=""ETA XLS File is successfully Uploaded"";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn SUCCESS;\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsession.setAttribute(""rapportError"",rapportError);\n\t\t\t\tshowNotificationPop=""display:block;visibility:visible;"";\n\t\t\t} catch (Exception e) {\n\t\t\t\trapportError=null;\n\t\t\t\tsession.setAttribute(""rapportError"",null);\n\t\t\t\tuserLogo=null;\n\t\t\t\tsession.setAttribute(""userLogo"",null);\n\t\t\t\taddActionError(getText(""loyauty.error.common.fileMustBeXLS""));\n\t\t\t}\n\t\t\treturn SUCCESS;\n\t\t}else{\n\t\t\tshowNotificationPop=""display:block;visibility:visible;"";\n\t\t\tmessage=""The file is empty !"";\n\t\t\trapportError=null;\n\t\t\tsession.setAttribute(""rapportError"",null);\n\t\t\tuserLogo=null;\n\t\t\tsession.setAttribute(""userLogo"",null);\n\t\t\taddActionError(getText(""loyauty.error.common.fileUpload""));\n\t\t\treturn ""input"";\n\t\t}\n\t\t\n\t\t\n\n\t}\n\n\t/*=========================  createUserLogo ===========================\n\t \t\t\t\tCreate  Blank User Logo if not Exist\n\t  =================================================================*/\n\tpublic void createUserLogo(String source, String destination) throws IOException{\n\t\tFile fileLogo=new File(destination);\n\t\tif(!fileLogo.exists()){\n\t\t\tInputStream in = new FileInputStream(source);\n\t\t\tOutputStream out = new FileOutputStream(destination);\n\t\t\tbyte[] buf = new byte[1024];\n\t\t\tint len;\n\t\t\twhile ((len = in.read(buf)) > 0) {\n\t\t\t\tout.write(buf, 0, len);\n\t\t\t}\n\t\t\tin.close();\n\t\t\tout.close();\t\n\t\t}\n\t}\n\n}\n\n----------------------------------- SOURCE END -------------------------------------",1421082055584
error,log,,,"Problems occurred when invoking code from plug-in: ""org.eclipse.jdt.ui"".",1421082055585
error,log,,,"Error in JDT Core during reconcile",1421082055585
activated,view,org.eclipse.ui.console,3.5.0.v20100526,"org.eclipse.ui.console.ConsoleView",1421082057154
activated,view,org.eclipse.wst.server.ui,1.1.207.v20110119,"org.eclipse.wst.server.ui.ServersView",1421082069393
executed,command,org.eclipse.wst.server.ui,1.1.207.v20110119,"org.eclipse.wst.server.debug",1421082073055
activated,view,org.eclipse.ui.console,3.5.0.v20100526,"org.eclipse.ui.console.ConsoleView",1421082075523
activated,view,org.eclipse.wst.server.ui,1.1.207.v20110119,"org.eclipse.wst.server.ui.ServersView",1421082075550
activated,view,org.eclipse.ui.console,3.5.0.v20100526,"org.eclipse.ui.console.ConsoleView",1421082077151
activated,view,org.eclipse.wst.server.ui,1.1.207.v20110119,"org.eclipse.wst.server.ui.ServersView",1421082139074
activated,view,org.eclipse.ui.console,3.5.0.v20100526,"org.eclipse.ui.console.ConsoleView",1421082140898
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082150593
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082182087
activated,view,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.DebugView",1421082182100
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082185806
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082186181
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082190255
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082196612
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082199431
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082200113
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082200575
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082200816
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082201072
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082201296
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082201536
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082201792
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082202048
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082202296
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082202552
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082203128
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082215490
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082216737
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082221788
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082231615
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421082235708
executed,command,,,"AUTOGEN:::org.eclipse.jdt.debug.CompilationUnitEditor.BreakpointRulerActions/org.eclipse.jdt.debug.ui.actions.ManageBreakpointRulerAction",1421082242876
activated,view,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.DebugView",1421082244856
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082244998
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082245869
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421082275232
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.delete",1421082332055
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.file.save",1421082335329
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082335649
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082341394
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082341612
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082343337
activated,view,org.eclipse.ui.console,3.5.0.v20100526,"org.eclipse.ui.console.ConsoleView",1421082346611
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421082355343
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082385863
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082432732
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421082433482
activated,view,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.DebugView",1421082435476
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082435608
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082436629
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082442547
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082451558
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082455071
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082456375
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082457577
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082457841
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082458030
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082458753
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082460841
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082468401
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082469609
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082475874
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082478344
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082485026
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082490404
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082491308
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082491885
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082492365
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082492597
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082492805
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082493005
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082493214
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082493421
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082493653
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082495167
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082495846
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082521720
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082525128
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082525928
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.StepOver",1421082527522
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Resume",1421082532506
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421082535948
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421082600616
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421082626321
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421083530434
activated,view,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.DebugView",1421083530450
executed,command,org.eclipse.debug.ui,3.6.3.v20101201_r362,"org.eclipse.debug.ui.commands.Terminate",1421083530577
activated,view,org.eclipse.wst.server.ui,1.1.207.v20110119,"org.eclipse.wst.server.ui.ServersView",1421083530762
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421083537625
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421083540025
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085455069
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421085457089
activated,view,org.eclipse.ui.console,3.5.0.v20100526,"org.eclipse.ui.console.ConsoleView",1421085459415
activated,view,org.eclipse.wst.server.ui,1.1.207.v20110119,"org.eclipse.wst.server.ui.ServersView",1421085470934
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085474859
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085476253
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085476617
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085481432
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085486476
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085487877
executed,command,org.eclipse.ui.ide,3.6.2.M20101201-0800,"org.eclipse.ui.project.cleanAction",1421085487885
deactivated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085488160
activated,workbench,org.eclipse.ui.workbench,3.6.2.M20110210-1200,"",1421085488267
error,log,,,"Exception occurred during problem detection:\n----------------------------------- SOURCE BEGIN -------------------------------------\npackage com.loyauty.web.struts.action.orders;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport javax.servlet.http.HttpSession;\nimport lombok.Getter;\nimport lombok.Setter;\nimport com.loyauty.exception.ServiceLocatorException;\nimport com.loyauty.service.core.dto.OrdersDTO;\nimport com.loyauty.service.orders.OrdersService;\nimport com.loyauty.web.struts.action.LoyautyAction;\n\npublic class OrdersAdminXLS extends LoyautyAction{\n\tprivate static final long serialVersionUID = -8730372014253451459L;\n\n\tprivate OrdersService orderService;\n\t@Getter @Setter\n\tprivate InputStream fileInputStream;\n\t@Getter @Setter\n\tprivate String fileName="""";\n\t@Getter @Setter\n\tprivate String lsOrderIdToPrint;\n\tprivate List<OrdersDTO>listOrdersDTO;\n\t@Getter @Setter\n\tprivate Long tansformAutoSignal;\n\t@Getter @Setter\n\tprivate Long init;\n\t@Getter @Setter\n\tprivate Long tansformManSignal;\n\t@Getter @Setter\n\tprivate Long treatOrderPageSignal;\n\t@Getter @Setter\n\tprivate Integer reportOrderPageSignal;\n\t@Getter @Setter\n\tprivate Integer invoicedOrderPageSignal;\n\t@Getter @Setter\n\tprivate Integer selectedOrdersListSignal;\n\t@Getter @Setter\n\tprivate Long allProgressListOrdersSignal;\n\t@Getter @Setter\n\tprivate String showPopupConfirmInsert;\n\t@Getter @Setter\n\tprivate Long printAllOrdersSignal;\n\t@Getter @Setter\n\tprivate String message="""";\n\t//Collection list;\n\t@Getter @Setter\n\tprivate String strPrint;\n\t@Getter @Setter\n\tprivate String userLogin;\n\t@Getter @Setter\n\tprivate Integer selectedStatus;\n\tprivate Long allOrdersSelectedSignal;\n\t@Getter @Setter\n\tprivate Long generateESTFileSignal;\n\t//private boolean insert;\n\tprivate Integer PAGE_ITEMS_COUNT=1000000;\n\tprivate List<OrdersDTO> etaOrdersList;\n\tpublic OrdersAdminXLS() throws ServiceLocatorException {\n\t\tsuper();\t\n\t\tlistOrdersDTO=new ArrayList<OrdersDTO>();\n\t\torderService = getServiceLocator().getOrderService();\n\t}\n\t\n\t@SuppressWarnings(""unchecked"")\n\t@Override  \n\tpublic String execute() throws Exception {\t\n\t\tHttpSession session = request.getSession(true);\n\t\tString filePath = session.getServletContext().getRealPath(""/"");\n\t\tString filePathData=filePath+""WEB-INF/jsp/orders/data/"";\n\t\tSimpleDateFormat frm=new SimpleDateFormat(""dd/MM/yyyy"");\n\t\t//keep search parameters to use in other classes(PrintOrdersToPDF, ...)\n\t\tDate creationDateStartArg=(Date)session.getAttribute(""creationDateStartArg"");\n\t\tDate creationDateEndArg=(Date)session.getAttribute(""creationDateEndArg"");\n\t\tInteger reportDateBetween=(Integer)session.getAttribute(""reportDateBetween"");\n\t\tString lsOrderId=(String)session.getAttribute(""lsOrderId"");\n\t\tif(lsOrderId!=null)lsOrderId=lsOrderId.toUpperCase();\n\t\tString userLogin=(String)session.getAttribute(""userLogin"");\n\t\tString status=(String)session.getAttribute(""status"");\n\t\tetaOrdersList=(List<OrdersDTO>)session.getAttribute(""etaOrdersList"");\n\t\tif(etaOrdersList==null)etaOrdersList=new ArrayList<OrdersDTO>();\n\t\tList<Integer>listIndexColumn=(List<Integer>)session.getAttribute(""listIndexColumn"");\n\t\tif((reportOrderPageSignal!=null && reportOrderPageSignal!=0L)||invoicedOrderPageSignal!=null && invoicedOrderPageSignal!=0L){\n\t\t\tallOrdersSelectedSignal=(Long)session.getAttribute(""allOrdersSelectedSignal"");\n\t\t\tif(allOrdersSelectedSignal!=null && allOrdersSelectedSignal!=0L){\n\t\t\t\tif(selectedOrdersListSignal==2)selectedOrdersListSignal=0;//execute the first method in bloc switch when admin select all orders\n\t\t\t\tif(reportOrderPageSignal!=null && reportOrderPageSignal!=0L){\n\t\t\t\t\tlistOrdersDTO=orderService.searchOrdersWithOptionsAndSorting(creationDateStartArg, creationDateEndArg,reportDateBetween,userLogin, lsOrderId, status, listIndexColumn,PAGE_ITEMS_COUNT,0);\n\t\t\t\t}else if(invoicedOrderPageSignal!=null && invoicedOrderPageSignal!=0L){\n\t\t\t\t\tlistOrdersDTO=orderService.searchInvoicedWithSorting(creationDateStartArg, creationDateEndArg,reportDateBetween,userLogin, lsOrderId, status, listIndexColumn,PAGE_ITEMS_COUNT,0);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif((reportOrderPageSignal!=null && reportOrderPageSignal!=0L)){\n\t\t\t\t\t//insert=true;\n\t\t\t\t\tlistOrdersDTO= (List<OrdersDTO>)session.getAttribute(""listOrdersDTOReport"");\n\t\t\t\t}\t\t\t\t\n\t\t\t\tif(invoicedOrderPageSignal!=null && invoicedOrderPageSignal!=0L){\n\t\t\t\t\tlistOrdersDTO= (List<OrdersDTO>)session.getAttribute(""listOrdersDTOInvoiced"");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttry{\n\t\t\t\n\t\t\tif(selectedOrdersListSignal==null)selectedOrdersListSignal=0;\n\t\t\t/*------------------------ Change print property of order ---------------------\n\t\t\t\t\tcatch string content values print and change print property order \n\t\t\t  -----------------------------------------------------------------------------*/\n\t\t\tif(allOrdersSelectedSignal==null || allOrdersSelectedSignal==0L){\n\t\t\t\tString[] tabPrint=strPrint.split("","");\n\t\t\t\tfor(int i=0;i<tabPrint.length;i++){\n\t\t\t\t\tString item=tabPrint[i];\n\t\t\t\t\tString[] tabItem=item.split("";"");\n\t\t\t\t\tint index=Integer.parseInt(tabItem[0]);\n\t\t\t\t\tOrdersDTO orderDTO= listOrdersDTO.get(index);\n\t\t\t\t\tif(tabItem[1].equals(""t"")){\n\t\t\t\t\t\torderDTO.setPrint(true);\n\t\t\t\t\t}else orderDTO.setPrint(false);\n\t\t\t\t}\n\t\t\t\tif((reportOrderPageSignal!=null && reportOrderPageSignal!=0L))\n\t\t\t\t\tsession.setAttribute(""listOrdersDTOReport"",listOrdersDTO);\n\t\t\t\tif(invoicedOrderPageSignal!=null && invoicedOrderPageSignal!=0L)\n\t\t\t\t\tsession.setAttribute(""listOrdersDTOInvoiced"",listOrdersDTO);\n\t\t\t}\n\t\t\t\n\t\t\t/*-------------------- Create a file XLS from orders list ---------------------\n\t\t\t\t\t  The system will create a XLS file with the client login name\n\t \t\t ------------------------------------------------------------------------------*/\n\t\t\tfrm=new SimpleDateFormat(""ddMMyyyy"");\n\t\t\tDate date=new Date();\n\t\t\tString strDate=frm.format(date);\n\t\t\t\n\t\t\tswitch (selectedOrdersListSignal) {\n\t\t\tcase 0: // generate CSV Canada Post for all Orders\n\t\t\t\tstrDate=frm.format(date);\n\t\t\t\torderService.generateAdminEstTool(listOrdersDTO, filePathData,false);\n\t\t\t\tfileInputStream = new FileInputStream(new File( filePathData+""EST_TOOL.csv""));\n\t\t\t\tfileName=""EST_all_orders""+strDate+"".csv"";\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase 1: // get XLS File for list\n\t\t\t\torderService.generateAdminXLS(listOrdersDTO, filePathData,allOrdersSelectedSignal);\n\t\t\t\tfileInputStream = new FileInputStream(new File( filePathData+""ordersAdminExport.xls""));\n\t\t\t\tfileName=""list_orders""+strDate+"".xls"";\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase 2: // generate CSV Canada Post for just Orders Selected\n\t\t\t\torderService.generateAdminEstTool(listOrdersDTO, filePathData,true);\n\t\t\t\tfileInputStream = new FileInputStream(new File( filePathData+""EST_TOOL.csv""));\n\t\t\t\tfileName=""EST_orders_selected""+strDate+"".csv"";\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase 3: // generate XLS for Shipped orders of an partner Selected and Change status to ""invoiced""\n\t\t\t\torderService.generateInvoicedXLS(listOrdersDTO, filePathData,allOrdersSelectedSignal);\n\t\t\t\tfileInputStream = new FileInputStream(new File( filePathData+""invoicedOrders.xls""));\n\t\t\t\tString partnerName="""";\n\t\t\t\tfor (OrdersDTO orderDTO : listOrdersDTO) {\n\t\t\t\t\tif(orderDTO.getPrint()!=null && orderDTO.getPrint() &&\n\t\t\t\t\t   (orderDTO.getStatus().equals(""shipped"")|| orderDTO.getStatus().equals(""invoiced""))){\n\t\t\t\t\t\tpartnerName=orderDTO.getUserLogin();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsession.setAttribute(""invoicedOrdersRefresh"",1L);\n\t\t\t\tfileName=partnerName+""_Invoices_""+strDate+"".xls"";\n\t\t\t\t// PARTNER NAME_Invoices_MMDDYYY.xls\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase 4: // get XLS File for list\n\t\t\t\torderService.generateEtaXLS(listOrdersDTO, filePathData);\n\t\t\t\tfileInputStream = new FileInputStream(new File( filePathData+""EtaTemplate.xls""));\n\t\t\t\tfileName=""Eta_list_orders""+strDate+"".xls"";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn SUCCESS;\n\t\t}catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\treturn ERROR;\n\t\t}\n\t}\n\t\n}\n\n----------------------------------- SOURCE END -------------------------------------",1421085490844
error,log,,,"Problems occurred when invoking code from plug-in: ""org.eclipse.jdt.ui"".",1421085490845
error,log,,,"Error in JDT Core during reconcile",1421085490845
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421085491871
activated,editor,org.eclipse.jst.jsp.ui,1.1.503.v201101262228,"org.eclipse.jst.jsp.core.jspsource.source",1421085493694
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421085496294
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1421085518064
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1421085518327
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1421085518543
activated,editor,org.eclipse.jdt.ui,3.6.2.r362_v20110203,"org.eclipse.jdt.ui.CompilationUnitEditor",1421085520546
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1421085534542
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1421085544983
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1421085545214
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1421085549203
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1421085561464
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.copy",1421085561702
executed,command,org.eclipse.ui,3.6.2.M20110203-1100,"org.eclipse.ui.edit.paste",1421085563944
